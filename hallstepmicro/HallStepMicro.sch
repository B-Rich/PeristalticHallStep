EESchema Schematic File Version 2  date Wednesday, 02 October, 2013 09:18:38 pm
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:allegro
LIBS:HallStepMicro-cache
EELAYER 27 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title ""
Date "3 oct 2013"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L ATTINY84A-SS IC1
U 1 1 5246FCD4
P 3050 4800
F 0 "IC1" H 2300 5550 60  0000 C CNN
F 1 "ATTINY84A-SS" H 3550 4050 60  0000 C CNN
F 2 "SO14" H 2350 4050 60  0001 C CNN
F 3 "" H 3050 4800 60  0000 C CNN
	1    3050 4800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR01
U 1 1 5246FCE1
P 1800 5400
F 0 "#PWR01" H 1800 5400 30  0001 C CNN
F 1 "GND" H 1800 5330 30  0001 C CNN
F 2 "" H 1800 5400 60  0000 C CNN
F 3 "" H 1800 5400 60  0000 C CNN
	1    1800 5400
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR02
U 1 1 5246FCE8
P 1800 4200
F 0 "#PWR02" H 1800 4300 30  0001 C CNN
F 1 "VDD" H 1800 4310 30  0000 C CNN
F 2 "" H 1800 4200 60  0000 C CNN
F 3 "" H 1800 4200 60  0000 C CNN
	1    1800 4200
	1    0    0    -1  
$EndComp
Text Notes 4150 2850 0    60   ~ 0
Enable I/O Pull-Up\nresistors on hall* inputs.
Text Label 4250 4200 0    60   ~ 0
hall1_in
Text Label 4250 4300 0    60   ~ 0
hall2_in
Text Label 4250 4400 0    60   ~ 0
hall3_in
Text Label 4250 4500 0    60   ~ 0
hall4_in
$Comp
L CONN_3X2 ISP6PIN1
U 1 1 524708B5
P 2900 6450
F 0 "ISP6PIN1" H 2900 6700 50  0000 C CNN
F 1 "CONN_3X2" V 2900 6500 40  0000 C CNN
F 2 "" H 2900 6450 60  0000 C CNN
F 3 "" H 2900 6450 60  0000 C CNN
	1    2900 6450
	1    0    0    -1  
$EndComp
Text Label 2200 6300 0    60   ~ 0
STP_MIN
Text Label 2200 6400 0    60   ~ 0
STP_STEP
Text Label 2200 6500 0    60   ~ 0
RESET
$Comp
L VDD #PWR03
U 1 1 52470AE8
P 3700 6300
F 0 "#PWR03" H 3700 6400 30  0001 C CNN
F 1 "VDD" H 3700 6410 30  0000 C CNN
F 2 "" H 3700 6300 60  0000 C CNN
F 3 "" H 3700 6300 60  0000 C CNN
	1    3700 6300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR04
U 1 1 52470AF7
P 3700 6500
F 0 "#PWR04" H 3700 6500 30  0001 C CNN
F 1 "GND" H 3700 6430 30  0001 C CNN
F 2 "" H 3700 6500 60  0000 C CNN
F 3 "" H 3700 6500 60  0000 C CNN
	1    3700 6500
	1    0    0    -1  
$EndComp
Text Label 3300 6400 0    60   ~ 0
STP_MAX
Text Label 4250 4600 0    60   ~ 0
STP_STEP
Text Label 4250 4700 0    60   ~ 0
STP_MIN
Text Label 4250 4800 0    60   ~ 0
STP_MAX
Text Label 4250 5400 0    60   ~ 0
RESET
Text Notes 5850 3950 0    60   ~ 0
Control Signals for\nAllegro A4973
$Comp
L CONN_6 DCM1
U 1 1 52470F9C
P 7250 4450
F 0 "DCM1" V 7200 4450 60  0000 C CNN
F 1 "CONN_6" V 7300 4450 60  0000 C CNN
F 2 "" H 7250 4450 60  0000 C CNN
F 3 "" H 7250 4450 60  0000 C CNN
	1    7250 4450
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR05
U 1 1 52470FB7
P 6700 4200
F 0 "#PWR05" H 6700 4300 30  0001 C CNN
F 1 "VDD" H 6700 4310 30  0000 C CNN
F 2 "" H 6700 4200 60  0000 C CNN
F 3 "" H 6700 4200 60  0000 C CNN
	1    6700 4200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 52470FC6
P 6700 4700
F 0 "#PWR06" H 6700 4700 30  0001 C CNN
F 1 "GND" H 6700 4630 30  0001 C CNN
F 2 "" H 6700 4700 60  0000 C CNN
F 3 "" H 6700 4700 60  0000 C CNN
	1    6700 4700
	1    0    0    -1  
$EndComp
Text Label 6500 4300 0    60   ~ 0
DC_BRAKE
Text Label 6500 4500 0    60   ~ 0
DC_PHASE
Text Label 6500 4600 0    60   ~ 0
DC_ENABLE
Text Label 6500 4400 0    60   ~ 0
DC_MODE
Text Notes 7500 4350 0    60   ~ 0
Signals to line up with\nPololu DRV8801.
$Comp
L CONN_5X2 STEPIN1
U 1 1 52471488
P 7200 5800
F 0 "STEPIN1" H 7200 6100 60  0000 C CNN
F 1 "CONN_5X2" V 7200 5800 50  0000 C CNN
F 2 "" H 7200 5800 60  0000 C CNN
F 3 "" H 7200 5800 60  0000 C CNN
	1    7200 5800
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR07
U 1 1 524714AB
P 6600 6200
F 0 "#PWR07" H 6600 6200 30  0001 C CNN
F 1 "GND" H 6600 6130 30  0001 C CNN
F 2 "" H 6600 6200 60  0000 C CNN
F 3 "" H 6600 6200 60  0000 C CNN
	1    6600 6200
	1    0    0    -1  
$EndComp
Text Label 6350 5900 0    60   ~ 0
STP_DIR
Text Label 6350 5800 0    60   ~ 0
STP_MIN
Text Label 7700 5900 0    60   ~ 0
STP_STEP
Text Label 7700 5800 0    60   ~ 0
STP_ENB
Text Label 7700 5700 0    60   ~ 0
STP_MAX
Text Label 6400 5200 0    60   ~ 0
STP_DIR
Text Label 7500 5200 0    60   ~ 0
DC_PHASE
$Comp
L VDD #PWR08
U 1 1 524726B7
P 5800 4600
F 0 "#PWR08" H 5800 4700 30  0001 C CNN
F 1 "VDD" H 5800 4710 30  0000 C CNN
F 2 "" H 5800 4600 60  0000 C CNN
F 3 "" H 5800 4600 60  0000 C CNN
	1    5800 4600
	1    0    0    -1  
$EndComp
$Comp
L R RENB1
U 1 1 524726A8
P 6250 4600
F 0 "RENB1" V 6330 4600 40  0000 C CNN
F 1 "5K" V 6257 4601 40  0000 C CNN
F 2 "~" V 6180 4600 30  0000 C CNN
F 3 "~" H 6250 4600 30  0000 C CNN
	1    6250 4600
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR09
U 1 1 52472893
P 5800 4300
F 0 "#PWR09" H 5800 4400 30  0001 C CNN
F 1 "VDD" H 5800 4410 30  0000 C CNN
F 2 "" H 5800 4300 60  0000 C CNN
F 3 "" H 5800 4300 60  0000 C CNN
	1    5800 4300
	1    0    0    -1  
$EndComp
$Comp
L R RBRK1
U 1 1 52472899
P 6250 4300
F 0 "RBRK1" V 6330 4300 40  0000 C CNN
F 1 "5K" V 6257 4301 40  0000 C CNN
F 2 "~" V 6180 4300 30  0000 C CNN
F 3 "~" H 6250 4300 30  0000 C CNN
	1    6250 4300
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR010
U 1 1 5247292E
P 5800 4400
F 0 "#PWR010" H 5800 4500 30  0001 C CNN
F 1 "VDD" H 5800 4510 30  0000 C CNN
F 2 "" H 5800 4400 60  0000 C CNN
F 3 "" H 5800 4400 60  0000 C CNN
	1    5800 4400
	1    0    0    -1  
$EndComp
$Comp
L R RMODE1
U 1 1 52472934
P 6250 4400
F 0 "RMODE1" V 6330 4400 40  0000 C CNN
F 1 "5K" V 6257 4401 40  0000 C CNN
F 2 "~" V 6180 4400 30  0000 C CNN
F 3 "~" H 6250 4400 30  0000 C CNN
	1    6250 4400
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR011
U 1 1 52472C7B
P 5800 4500
F 0 "#PWR011" H 5800 4600 30  0001 C CNN
F 1 "VDD" H 5800 4610 30  0000 C CNN
F 2 "" H 5800 4500 60  0000 C CNN
F 3 "" H 5800 4500 60  0000 C CNN
	1    5800 4500
	1    0    0    -1  
$EndComp
$Comp
L R RPHASE1
U 1 1 52472C81
P 6250 4500
F 0 "RPHASE1" V 6330 4500 40  0000 C CNN
F 1 "5K" V 6257 4501 40  0000 C CNN
F 2 "~" V 6180 4500 30  0000 C CNN
F 3 "~" H 6250 4500 30  0000 C CNN
	1    6250 4500
	0    -1   -1   0   
$EndComp
Text Label 4250 5300 0    60   ~ 0
DC_ENABLE
Text Label 4250 5200 0    60   ~ 0
DC_MODE
$Comp
L VDD #PWR012
U 1 1 52471CFC
P 4900 4500
F 0 "#PWR012" H 4900 4600 30  0001 C CNN
F 1 "VDD" H 4900 4610 30  0000 C CNN
F 2 "" H 4900 4500 60  0000 C CNN
F 3 "" H 4900 4500 60  0000 C CNN
	1    4900 4500
	1    0    0    -1  
$EndComp
$Comp
L R RRESET1
U 1 1 52471D02
P 4900 4950
F 0 "RRESET1" V 4980 4950 40  0000 C CNN
F 1 "5K" V 4907 4951 40  0000 C CNN
F 2 "~" V 4830 4950 30  0000 C CNN
F 3 "~" H 4900 4950 30  0000 C CNN
	1    4900 4950
	1    0    0    -1  
$EndComp
Text Label 4250 5100 0    60   ~ 0
STP_ENB
Text Label 4250 4900 0    60   ~ 0
SENSE
$Comp
L CONN_3 SENSE1
U 1 1 5247247E
P 4850 6400
F 0 "SENSE1" V 4800 6400 50  0000 C CNN
F 1 "CONN_3" V 4900 6400 40  0000 C CNN
F 2 "" H 4850 6400 60  0000 C CNN
F 3 "" H 4850 6400 60  0000 C CNN
	1    4850 6400
	1    0    0    -1  
$EndComp
Text Label 4050 6500 0    60   ~ 0
SENSE
$Comp
L GND #PWR013
U 1 1 5247248F
P 4350 6400
F 0 "#PWR013" H 4350 6400 30  0001 C CNN
F 1 "GND" H 4350 6330 30  0001 C CNN
F 2 "" H 4350 6400 60  0000 C CNN
F 3 "" H 4350 6400 60  0000 C CNN
	1    4350 6400
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR014
U 1 1 5247249E
P 4350 6300
F 0 "#PWR014" H 4350 6400 30  0001 C CNN
F 1 "VDD" H 4350 6410 30  0000 C CNN
F 2 "" H 4350 6300 60  0000 C CNN
F 3 "" H 4350 6300 60  0000 C CNN
	1    4350 6300
	1    0    0    -1  
$EndComp
$Comp
L CONN_6 HALL6IN1
U 1 1 52485E70
P 4300 2350
F 0 "HALL6IN1" V 4250 2350 60  0000 C CNN
F 1 "CONN_6" V 4350 2350 60  0000 C CNN
F 2 "" H 4300 2350 60  0000 C CNN
F 3 "" H 4300 2350 60  0000 C CNN
	1    4300 2350
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2000 5400 1800 5400
Wire Wire Line
	1800 4200 2000 4200
Wire Wire Line
	4100 4200 4600 4200
Wire Wire Line
	4100 4300 4600 4300
Wire Wire Line
	4100 4400 4600 4400
Wire Wire Line
	4100 4500 4600 4500
Wire Wire Line
	2500 6300 2100 6300
Wire Wire Line
	2500 6400 2100 6400
Wire Wire Line
	2500 6500 2100 6500
Wire Wire Line
	3300 6300 3700 6300
Wire Wire Line
	3300 6400 3700 6400
Wire Wire Line
	3300 6500 3700 6500
Wire Wire Line
	4100 4700 4600 4700
Wire Wire Line
	4100 4800 4600 4800
Wire Wire Line
	4100 4600 4600 4600
Wire Wire Line
	6900 4200 6700 4200
Wire Wire Line
	6900 4700 6700 4700
Wire Wire Line
	6900 4300 6500 4300
Wire Wire Line
	6900 4400 6500 4400
Wire Wire Line
	6900 4500 6500 4500
Wire Wire Line
	6900 4600 6500 4600
Wire Wire Line
	6600 6200 6600 6000
Wire Wire Line
	6600 6000 7600 6000
Wire Wire Line
	7200 5600 7200 6000
Wire Wire Line
	6800 5600 7600 5600
Connection ~ 6800 6000
Connection ~ 7200 5600
Wire Wire Line
	6800 5700 7200 5700
Connection ~ 7200 5700
Connection ~ 7200 6000
Wire Wire Line
	6800 5900 6300 5900
Wire Wire Line
	6800 5800 6300 5800
Wire Wire Line
	7600 5900 8100 5900
Wire Wire Line
	7600 5800 8100 5800
Wire Wire Line
	7600 5700 8100 5700
Wire Wire Line
	7400 5200 7900 5200
Wire Wire Line
	4100 5300 4600 5300
Wire Wire Line
	4100 5200 4600 5200
Wire Wire Line
	4900 4500 4900 4700
Wire Wire Line
	4900 5400 4900 5200
Wire Wire Line
	4100 5100 4600 5100
Wire Wire Line
	4100 4900 4600 4900
Wire Wire Line
	4000 6500 4500 6500
Wire Wire Line
	4350 6300 4500 6300
Wire Wire Line
	4500 6400 4350 6400
Wire Wire Line
	4100 5400 4900 5400
Wire Wire Line
	4650 2100 5150 2100
Wire Wire Line
	4650 2200 5150 2200
Wire Wire Line
	5150 2300 4650 2300
Wire Wire Line
	5150 2400 4650 2400
Wire Wire Line
	5150 2500 4650 2500
Wire Wire Line
	5150 2600 4650 2600
$Comp
L VDD #PWR015
U 1 1 52486A3D
P 5150 2100
F 0 "#PWR015" H 5150 2200 30  0001 C CNN
F 1 "VDD" H 5150 2210 30  0000 C CNN
F 2 "" H 5150 2100 60  0000 C CNN
F 3 "" H 5150 2100 60  0000 C CNN
	1    5150 2100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR016
U 1 1 52486A88
P 5150 2200
F 0 "#PWR016" H 5150 2200 30  0001 C CNN
F 1 "GND" H 5150 2130 30  0001 C CNN
F 2 "" H 5150 2200 60  0000 C CNN
F 3 "" H 5150 2200 60  0000 C CNN
	1    5150 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 2100 2650 2100
Text Label 4700 2300 0    60   ~ 0
hall1_in
Text Label 4700 2400 0    60   ~ 0
hall2_in
Text Label 4700 2500 0    60   ~ 0
hall3_in
Text Label 4700 2600 0    60   ~ 0
hall4_in
Wire Wire Line
	5800 4300 6000 4300
Wire Wire Line
	6000 4600 5800 4600
Wire Wire Line
	6000 4500 5800 4500
Wire Wire Line
	5800 4400 6000 4400
$Comp
L CONN_2 RESET1
U 1 1 52487407
P 5250 5500
F 0 "RESET1" V 5200 5500 40  0000 C CNN
F 1 "CONN_2" V 5300 5500 40  0000 C CNN
F 2 "" H 5250 5500 60  0000 C CNN
F 3 "" H 5250 5500 60  0000 C CNN
	1    5250 5500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR017
U 1 1 52487422
P 4700 5600
F 0 "#PWR017" H 4700 5600 30  0001 C CNN
F 1 "GND" H 4700 5530 30  0001 C CNN
F 2 "" H 4700 5600 60  0000 C CNN
F 3 "" H 4700 5600 60  0000 C CNN
	1    4700 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	4700 5600 4900 5600
$Comp
L VDD #PWR018
U 1 1 52488743
P 1500 4200
F 0 "#PWR018" H 1500 4300 30  0001 C CNN
F 1 "VDD" H 1500 4310 30  0000 C CNN
F 2 "" H 1500 4200 60  0000 C CNN
F 3 "" H 1500 4200 60  0000 C CNN
	1    1500 4200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR019
U 1 1 52488752
P 1500 5400
F 0 "#PWR019" H 1500 5400 30  0001 C CNN
F 1 "GND" H 1500 5330 30  0001 C CNN
F 2 "" H 1500 5400 60  0000 C CNN
F 3 "" H 1500 5400 60  0000 C CNN
	1    1500 5400
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG020
U 1 1 5248878E
P 1500 5200
F 0 "#FLG020" H 1500 5295 30  0001 C CNN
F 1 "PWR_FLAG" H 1500 5380 30  0000 C CNN
F 2 "" H 1500 5200 60  0000 C CNN
F 3 "" H 1500 5200 60  0000 C CNN
	1    1500 5200
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG021
U 1 1 524887AC
P 1500 4400
F 0 "#FLG021" H 1500 4495 30  0001 C CNN
F 1 "PWR_FLAG" H 1500 4580 30  0000 C CNN
F 2 "" H 1500 4400 60  0000 C CNN
F 3 "" H 1500 4400 60  0000 C CNN
	1    1500 4400
	-1   0    0    1   
$EndComp
Wire Wire Line
	1500 4200 1500 4400
Wire Wire Line
	1500 5200 1500 5400
Wire Wire Line
	2650 2300 2200 2300
Wire Wire Line
	2200 2400 2650 2400
Wire Wire Line
	2650 2500 2200 2500
Wire Wire Line
	2650 2600 2200 2600
Text Label 2300 2100 0    60   ~ 0
VCC
Text Label 2300 2200 0    60   ~ 0
VSS
$Sheet
S 1300 2000 900  700 
U 5248A9B3
F0 "HallSensors1" 50
F1 "HallSensors.sch" 50
F2 "VCC" U R 2200 2100 60 
F3 "VSS" U R 2200 2200 60 
F4 "hall1" O R 2200 2300 60 
F5 "hall2" O R 2200 2400 60 
F6 "hall3" O R 2200 2500 60 
F7 "hall4" O R 2200 2600 60 
$EndSheet
Wire Wire Line
	2200 2200 2650 2200
Text Label 2250 2300 0    60   ~ 0
hall1_out
Text Label 2250 2400 0    60   ~ 0
hall2_out
Text Label 2250 2500 0    60   ~ 0
hall3_out
Text Label 2250 2600 0    60   ~ 0
hall4_out
$Comp
L CONN_6 HALL6OUT1
U 1 1 5249C0EE
P 3000 2350
F 0 "HALL6OUT1" V 2950 2350 60  0000 C CNN
F 1 "CONN_6" V 3050 2350 60  0000 C CNN
F 2 "" H 3000 2350 60  0000 C CNN
F 3 "" H 3000 2350 60  0000 C CNN
	1    3000 2350
	1    0    0    -1  
$EndComp
Text Notes 1950 6300 0    60   ~ 0
MISO
Text Notes 1950 6400 0    60   ~ 0
SCK
Text Notes 3700 6400 0    60   ~ 0
MOSI
Wire Notes Line
	3000 2000 3000 2700
Wire Notes Line
	3000 2700 4300 2700
Wire Notes Line
	4300 2700 4300 2000
Wire Notes Line
	4300 2000 3000 2000
$Comp
L R RDIR1
U 1 1 5249CEDB
P 7150 5200
F 0 "RDIR1" V 7230 5200 40  0000 C CNN
F 1 "0.0" V 7157 5201 40  0000 C CNN
F 2 "~" V 7080 5200 30  0000 C CNN
F 3 "~" H 7150 5200 30  0000 C CNN
	1    7150 5200
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6900 5200 6400 5200
Text Notes 4400 6700 0    60   ~ 0
Usable for Freescale MPX5500\nPressure Sensor.
$EndSCHEMATC
